<script
  async
  data-ad-client="ca-pub-4092442123207538"
  src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4092442123207538"
  crossorigin="anonymous"
></script>
<script defer>
  window.addEventListener("load", function() {
    var adPlaceholder = document.getElementById("ad-placeholder");
  
    // Define the function to be executed when all content is loaded
    function handleContentLoaded() {
      try {
        adsbygoogle = adsbygoogle || [];
        adsbygoogle.push({
          done_loading: function() {
            adPlaceholder.style.visibility = "visible";
            fixGoogleIframes();
          },
        });
  
        (adsbygoogle = window.adsbygoogle || []).push({
          done_loading: function() {
            adPlaceholder.style.visibility = "visible";
            fixGoogleIframes();
          },
        });
      } catch (error) {
        // Handle the error gracefully
        console.error("An error occurred while handling content load:", error);
      }
  
      // Unlisten to the event after executing the code
      window.removeEventListener("load", handleContentLoaded);
    }
  
    // Add error handling for the event listener
    try {
      window.addEventListener("load", handleContentLoaded);
    } catch (error) {
      // Handle the error gracefully
      console.error("An error occurred while adding the event listener:", error);
    }
  });  

    // Call the function when all content is loaded
    handleContentLoaded();

    function fixGoogleIframes() {
      try {
        var iframes = document.querySelectorAll(
          'iframe[src*="https://googleads.g.doubleclick.net"], iframe[data-google-container-id]'
        );

        iframes.forEach(function(iframe) {
          iframe.setAttribute("title", "google ads");
          iframe.setAttribute("role", "banner");

          if (
            iframe.hasAttribute("data-google-container-id") &&
            iframe.complete
          ) {
            setAttributes(iframe);
          } else {
            iframe.addEventListener("load", function() {
              setAttributes(iframe);
            });
          }
        });

        function setAttributes(iframe) {
          var containerId = iframe.getAttribute("data-google-container-id");
          iframe.setAttribute("title", "google ads");
          iframe.setAttribute("role", "banner");
        }
      } catch (error) {
        // Handle any errors that occur during the execution of the code
        console.error("An error occurred:", error);
      }
    }
  });
</script>
