{{ define "main" }}
<div class="image-carousel">
  {{ $uniqueImages := slice }}
  
  {{ range .Site.RegularPages }}
    {{ $coverImage := .Params.cover }}
    {{ if $coverImage }}
      {{ $isDuplicate := false }}
      {{ range $uniqueImages }}
        {{ if eq $coverImage . }}
          {{ $isDuplicate = true }}
          {{ break }}
        {{ end }}
      {{ end }}
      {{ if not $isDuplicate }}
        {{ $uniqueImages = $uniqueImages | append $coverImage }}
        <img src="{{ $coverImage }}" alt="" />
      {{ end }}
    {{ end }}
  {{ end }}

  {{ if .Site.RegularPages }}
    <style>
      .image-carousel {
        display: flex;
        flex-wrap: wrap;
      }

      .image-carousel img {
        width: 200px;
        height: 200px;
        object-fit: cover;
        margin: 5px;
      }
    </style>
  {{ else }}
    <p>No images found in the carousel.</p>
  {{ end }}
</div>
{{ end }}
