<!--
If you want to include any custom html just before </body>, put it in /layouts/partials/extended_footer.html
Do not put anything in this file - it's only here so that hugo won't throw an error if /layouts/partials/extended_footer.html doesn't exist.
-->

<!-- <script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script>addBackToTop({
  diameter: 56,
  backgroundColor: 'rgb(255, 82, 82)',
  textColor: '#fff'
})</script> -->

<!-- Scroll to Top Button -->
<button onclick="topFunction()" id="myBtn" title="Go to top">^</button> 

<script>
  // Get the button:
  let mybutton = document.getElementById("myBtn");

  // When the user scrolls down 20px from the top of the document, show the button
  window.onscroll = function() {scrollFunction()};

  function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      mybutton.style.display = "block";
    } else {
      mybutton.style.display = "none";
    }
  }

  // When the user clicks on the button, scroll to the top of the document
  function topFunction() {
    document.body.scrollTop = 0; // For Safari
    document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
  } 
</script>

{{ if not $.Site.IsServer }}
    <!-- Global site tag (gtag.js) - Google Analytics -->
    {{ template "_internal/google_analytics_async_lite.html" . }}

    <!-- Microsoft Clarity -->
    {{ template "_internal/microsoft_clarity.html" . }}

    <!-- Ads JS Load -->
    {{ partial "googleadsload.html" . }}

    <script defer>
      window.addEventListener('DOMContentLoaded', function() {
        var iframes = document.querySelectorAll('iframe[src*="https://googleads.g.doubleclick.net"]');
        for (var i = 0; i < iframes.length; i++) {
          if (!iframes[i].title) {
            iframes[i].title = 'google ads';
          }
        }
      });
    </script>
{{ end }}



<!-- Search Functionality -->
{{ if in (urlize .Permalink) "/search" }}
<script src="/js/search.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.6.2/fuse.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js"></script>
{{ end }}


<!-- Load Service Worker -->
{{ partial "load_service_worker.html" . }}