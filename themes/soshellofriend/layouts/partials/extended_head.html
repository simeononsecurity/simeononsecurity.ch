<!-- Preload first-party fonts -->
<link rel="prefetch" href="{{ ("assets/fonts/Inter-Regular.woff2" | absURL) }}" fetchpriority="high" as="font" type="font/woff2" media="(min-width: 768px)">
<link rel="prefetch" href="{{ ("assets/fonts/Inter-Bold.woff2" | absURL) }}" fetchpriority="high" as="font" type="font/woff2" media="(min-width: 768px)">
<link rel="prefetch" href="{{ ("assets/fonts/Inter-Italic.woff2" | absURL) }}" fetchpriority="low" as="font" type="font/woff2" media="(min-width: 768px)">
<link rel="prefetch" href="{{ ("assets/fonts/Inter-Medium.woff2" | absURL) }}" fetchpriority="low" as="font" type="font/woff2" media="(min-width: 768px)">
<link rel="prefetch" href="{{ ("assets/fonts/Inter-MediumItalic.woff2" | absURL) }}" fetchpriority="low" as="font" type="font/woff2" media="(min-width: 768px)">
<link rel="prefetch" href="{{ ("assets/fonts/Inter-BoldItalic.woff2" | absURL) }}" fetchpriority="low" as="font" type="font/woff2" media="(min-width: 768px)">

<!-- Theme CSS -->
{{ $baseCSS := (resources.Get "/style-base.css" | resources.Minify) }}
{{ $inlineCSS := $baseCSS }}
<style type="text/CSS">
{{ $inlineCSS.Content | safeCSS }}
</style>
{{ $style := resources.Get "style-append.css" | resources.Minify }}
<link rel="preload" href="{{ $style.Permalink }}" fetchpriority="high" as="style" onload="this.onload=null;this.rel='stylesheet'">

<!-- preload and prefetch first-party js -->
<link rel="preload" href="{{ "assets/main.js" | absURL }}" fetchpriority="high" as="script" type="text/javascript" async>
{{ $disabledURLs := slice "/about" "/contact" "/terms" "/privacy" }}
{{ $currentPath := .Permalink }}
{{ $disableComments := false }}
{{ range $disabledURLs }}
  {{ if (in $currentPath .) }}
    {{ $disableComments = true }}
  {{ end }}
{{ end }}
{{ if not $disableComments }}
  {{ if not (eq .Params.Comments.enable false) }}
    {{ if not .IsPage}}
      <link rel="prefetch" href="{{ "assets/prism.js" | absURL }}" fetchpriority="low" as="script" type="text/javascript" async>
    {{ end }}
  {{ end }}
{{ end }}
{{ if in (urlize .Permalink) "/search" }}
  <link rel="preload" href="{{ "js/search.js"| absURL }}" fetchpriority="high" as="script" type="text/javascript">
{{ end }}
<link rel="prefetch" href="{{ "service-worker.js" | absURL }}" fetchpriority="low" as="script" type="text/javascript" defer>

<!-- Preload and Prefetch Presearch Ad Images -->
{{ $tinysrc := resources.Get "img/ads/presearch/ban-3.jpg" }}
{{ $tinysrcpermalink := replace $tinysrc.RelPermalink ".jpg" "" }}
{{ $tiny := ($tinysrc.Resize "300x 250w webp q80") }}
  {{ $tinyfilename := printf "%s_%dx%d.%s" $tinysrcpermalink $tiny.Width $tiny.Height "webp" | urlize }}
  {{ $tinyrenamedimage := $tiny | resources.Copy $tinyfilename }}
  {{ $optimizedtiny := $tinyrenamedimage.Permalink }}   
{{ $smallsrc := resources.Get "img/ads/presearch/ban-5.jpg" }}
{{ $smallsrcpermalink := replace $smallsrc.RelPermalink ".jpg" "" }}
{{ $small := ($smallsrc.Resize "468x webp q80") }}
  {{ $smallfilename := printf "%s_%dx%d.%s" $smallsrcpermalink $small.Width $small.Height "webp" | urlize }}
  {{ $smallrenamedimage := $small | resources.Copy $smallfilename }}
  {{ $optimizedsmall := $smallrenamedimage.Permalink }}   
{{ $mediumsrc := resources.Get "img/ads/presearch/ban-4.jpg" }}
{{ $mediumsrcpermalink := replace $mediumsrc.RelPermalink ".jpg" "" }}
{{ $medium := ($mediumsrc.Resize "728x webp q80") }}
  {{ $mediumfilename := printf "%s_%dx%d.%s" $mediumsrcpermalink $medium.Width $medium.Height "webp" | urlize }}
  {{ $mediumrenamedimage := $medium | resources.Copy $mediumfilename }}
  {{ $optimizedmedium := $mediumrenamedimage.Permalink }} 
  <link rel="prefetch" href="{{ $optimizedtiny }}" as="image" fetchpriority="low" />
  <link rel="prefetch" href="{{ $optimizedsmall }}" as="image" fetchpriority="low" />
  <link rel="prefetch" href="{{ $optimizedmedium }}" as="image" fetchpriority="low" />
<!-- END Preload and Prefetch Presearch Ad Images -->

<!-- Preload and Prefetch Cover Images -->
<!-- Preload and Prefetch Cover Images -->
{{ range .Pages }}
  {{ if and (not (or (eq .Params.Cover "") (eq .Params.Cover " ") (eq .Params.Cover "/img/cover/" ))) (not (strings.HasSuffix .Params.Cover "/"))}}
    {{ $cover := resources.Get (.Params.Cover) }}
    {{ if $cover }}
          {{ if .Params.UseRelativeCover }}
            {{ $cover = resources.GetRemote (printf "%s%s" .Permalink .Params.Cover) }}
          {{ end }}
          {{ $permalink := replace $cover.RelPermalink (printf ".%s" $cover.MediaType.SubType) "" }}
          {{ $tiny := ($cover.Resize "240x webp q50") }}
          {{ $tinyfilename := printf "%s_%dx%d.%s" $permalink $tiny.Width $tiny.Height "webp" | urlize }}
          {{ $tinyrenamedimage := $tiny | resources.Copy $tinyfilename }}
          {{ $optimizedtiny := $tinyrenamedimage.Permalink }}   
          {{ $small := ($cover.Resize "480x webp q50") }}
          {{ $smallfilename := printf "%s_%dx%d.%s" $permalink $small.Width $small.Height "webp" | urlize }}
          {{ $smallrenamedimage := $small | resources.Copy $smallfilename }}
          {{ $optimizedsmall := $smallrenamedimage.Permalink }}   
          {{ $medium := ($cover.Resize "731x webp q50") }}
          {{ $mediumfilename := printf "%s_%dx%d.%s" $permalink $medium.Width $medium.Height "webp" | urlize }}
          {{ $mediumrenamedimage := $medium | resources.Copy $mediumfilename }}
          {{ $optimizedmedium := $mediumrenamedimage.Permalink }} 
          <link rel="preload" href="{{ $optimizedtiny }}" as="image" fetchpriority="low" />
          <link rel="prefetch" href="{{ $optimizedsmall }}" as="image" fetchpriority="low" />
          <link rel="prefetch" href="{{ $optimizedmedium }}" as="image" fetchpriority="low" />
      </figure>
    {{ end }}
  {{ end }}
{{ end }}
<!-- END Preload and Prefetch Cover Images -->
<!-- Preload and Prefetch Cover Image for Single Page -->
{{ if and (not (or (eq .Page.Params.Cover "") (eq .Page.Params.Cover " ") (eq .Page.Params.Cover "/img/cover/" ))) (not (strings.HasSuffix .Page.Params.Cover "/"))}}
  {{ $cover := resources.Get (.Page.Params.Cover) }}
  {{ if $cover }}
    {{ if .Page.Params.UseRelativeCover }}
      {{ $cover = resources.GetRemote (printf "%s%s" .Page.Permalink .Page.Params.Cover) }}
    {{ end }}
    {{ $permalink := replace $cover.RelPermalink (printf ".%s" $cover.MediaType.SubType) "" }}
    {{ $tiny := ($cover.Resize "240x webp q50") }}
    {{ $tinyfilename := printf "%s_%dx%d.%s" $permalink $tiny.Width $tiny.Height "webp" | urlize }}
    {{ $tinyrenamedimage := $tiny | resources.Copy $tinyfilename }}
    {{ $optimizedtiny := $tinyrenamedimage.Permalink }}   
    {{ $small := ($cover.Resize "480x webp q50") }}
    {{ $smallfilename := printf "%s_%dx%d.%s" $permalink $small.Width $small.Height "webp" | urlize }}
    {{ $smallrenamedimage := $small | resources.Copy $smallfilename }}
    {{ $optimizedsmall := $smallrenamedimage.Permalink }}   
    {{ $medium := ($cover.Resize "731x webp q50") }}
    {{ $mediumfilename := printf "%s_%dx%d.%s" $permalink $medium.Width $medium.Height "webp" | urlize }}
    {{ $mediumrenamedimage := $medium | resources.Copy $mediumfilename }}
    {{ $optimizedmedium := $mediumrenamedimage.Permalink }} 
      <link rel="preload" href="{{ $optimizedtiny }}" as="image" fetchpriority="high" />
      <link rel="prefetch" href="{{ $optimizedsmall }}" as="image" fetchpriority="low" />
      <link rel="prefetch" href="{{ $optimizedmedium }}" as="image" fetchpriority="low" />
  {{ end }}
{{ end }}
<!-- END Preload and Prefetch Cover Image for Single Page -->

<!-- Preconnect third-party DNS for CSS -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link rel="preconnect" href="https://cloudfront.ne">
<link rel="dns-prefetch" href="https://fonts.googleapis.com">
<link rel="dns-prefetch" href="https://fonts.gstatic.com">
<link rel="dns-prefetch" href="https://cloudfront.ne">

<!-- Preconnect third-party DNS for JS -->
<link rel="preconnect" href="https://pagead1.googlesyndication.com">
<link rel="preconnect" href="https://pagead2.googlesyndication.com">
<link rel="preconnect" href="https://securepubads.g.doubleclick.net">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://google-analytics.com">
<link rel="preconnect" href="https://cdn.jsdelivr.net">
<link rel="preconnect" href="https://googleads.g.doubleclick.net">
<link rel="preconnect" href="https://tpc.googlesyndication.com">
<link rel="preconnect" href="https://googletagservices.com">
<link rel="preconnect" href="https://www.gstatic.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<link rel="preconnect" href="https://static.cloudflareinsights.com">
<link rel="preconnect" href="https://cdnjs.cloudflare.com">
<link rel="preconnect" href="https://www.clarity.ms">
<link rel="preconnect" href="https://resources.infolinks.com">
<link rel="preconnect" href="https://c.clarity.ms">
<link rel="preconnect" href="https://w.clarity.ms">
<link rel="preconnect" href="https://c.bing.com">
<link rel="dns-prefetch" href="https://pagead1.googlesyndication.com">
<link rel="dns-prefetch" href="https://pagead2.googlesyndication.com">
<link rel="dns-prefetch" href="https://securepubads.g.doubleclick.net">
<link rel="dns-prefetch" href="https://www.google-analytics.com">
<link rel="dns-prefetch" href="https://google-analytics.com">
<link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
<link rel="dns-prefetch" href="https://googleads.g.doubleclick.net">
<link rel="dns-prefetch" href="https://tpc.googlesyndication.com">
<link rel="dns-prefetch" href="https://googletagservices.com">
<link rel="dns-prefetch" href="https://www.gstatic.com">
<link rel="dns-prefetch" href="https://www.googletagmanager.com">
<link rel="dns-prefetch" href="https://static.cloudflareinsights.com">
<link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
<link rel="dns-prefetch" href="https://www.clarity.ms">
<link rel="dns-prefetch" href="https://resources.infolinks.com">
<link rel="dns-prefetch" href="https://c.clarity.ms">
<link rel="dns-prefetch" href="https://w.clarity.ms">
<link rel="dns-prefetch" href="https://c.bing.com">

{{ $disabledURLs := slice "/about" "/contact" "/terms" "/privacy" }}
{{ $currentPath := .Permalink }}
{{ $disableComments := false }}
{{ range $disabledURLs }}
  {{ if (in $currentPath .) }}
    {{ $disableComments = true }}
  {{ end }}
{{ end }}
{{ if not $disableComments }}
  {{ if not (eq .Params.Comments.enable false) }}
  <link rel="preconnect" href="https://utteranc.es">
  <link rel="dns-prefetch" href="https://utteranc.es">
  {{ end }}
{{ end }}

<!-- mastodon verification  -->
<link rel="me" title="mastodon verification" href="https://mastodon.world/@simeononsecurity" />

<!-- Localization -->
  {{ $baseURLs := slice
    "https://simeononsecurity.ch"
    "https://ar.simeononsecurity.ch"
    "https://bn.simeononsecurity.ch"
    "https://ca.simeononsecurity.ch"
    "https://de.simeononsecurity.ch"
    "https://es.simeononsecurity.ch"
    "https://fr.simeononsecurity.ch"
    "https://hi.simeononsecurity.ch"
    "https://it.simeononsecurity.ch"
    "https://ja.simeononsecurity.ch"
    "https://nl.simeononsecurity.ch"
    "https://pa.simeononsecurity.ch"
    "https://pl.simeononsecurity.ch"
    "https://pt.simeononsecurity.ch"
    "https://ro.simeononsecurity.ch"
    "https://ru.simeononsecurity.ch"
    "https://zh.simeononsecurity.ch"
  }}

  {{ $currentPageTitle := .Page.Title }}
  

  {{ range $baseURLs }}
    {{ $baseURL := . }}
    {{ $hreflang := "" }}
    {{ $localizedURL := "" }}
    {{ if eq $baseURL "https://simeononsecurity.ch" }}
    {{ $hreflang = "es" }}
  {{ else if eq $baseURL "https://ar.simeononsecurity.ch" }}
    {{ $hreflang = "ar" }}
  {{ else if eq $baseURL "https://bn.simeononsecurity.ch" }}
    {{ $hreflang = "bn" }}
  {{ else if eq $baseURL "https://ca.simeononsecurity.ch" }}
    {{ $hreflang = "ca" }}
  {{ else if eq $baseURL "https://de.simeononsecurity.ch" }}
    {{ $hreflang = "de" }}
  {{ else if eq $baseURL "https://es.simeononsecurity.ch" }}
    {{ $hreflang = "es" }}
  {{ else if eq $baseURL "https://fr.simeononsecurity.ch" }}
    {{ $hreflang = "fr" }}
  {{ else if eq $baseURL "https://hi.simeononsecurity.ch" }}
    {{ $hreflang = "hi" }}
  {{ else if eq $baseURL "https://it.simeononsecurity.ch" }}
    {{ $hreflang = "it" }}
  {{ else if eq $baseURL "https://ja.simeononsecurity.ch" }}
    {{ $hreflang = "ja" }}
  {{ else if eq $baseURL "https://nl.simeononsecurity.ch" }}
    {{ $hreflang = "nl" }}
  {{ else if eq $baseURL "https://pa.simeononsecurity.ch" }}
    {{ $hreflang = "pa" }}
  {{ else if eq $baseURL "https://pt.simeononsecurity.ch" }}
    {{ $hreflang = "pt" }}
  {{ else if eq $baseURL "https://pt.simeononsecurity.ch" }}
    {{ $hreflang = "pl" }}
  {{ else if eq $baseURL "https://ro.simeononsecurity.ch" }}
    {{ $hreflang = "ro" }}
  {{ else if eq $baseURL "https://ru.simeononsecurity.ch" }}
    {{ $hreflang = "ru" }}
  {{ else if eq $baseURL "https://zh.simeononsecurity.ch" }}
    {{ $hreflang = "zh" }}
  {{ end }}
  {{ $localizedURL = printf "%s%s" $baseURL $.Page.RelPermalink }}
    <link rel="alternate" title="{{ $currentPageTitle }} iin {{ $hreflang }}" href="{{ $localizedURL }}" hreflang="{{ $hreflang }}" />
    <link rel="feed" type="application/xml" title="{{ $.Site.Title }} RSS Feed in {{ $hreflang }}" hreflang="{{ $hreflang }}" href="{{ $baseURL }}/index.xml" />
    <link rel="sitemap" type="application/xml" title="{{ $.Site.Title }} Sitemap in {{ $hreflang }}" hreflang="{{ $hreflang }}" href="{{ $baseURL }}/sitemap.xml" />
    <link rel="preconnect" href="{{ $baseURL }}">
    <link rel="dns-prefetch" href="{{ $baseURL }}">
  {{ end }}
  <link rel="feed" type="application/xml" title="{{ $.Site.Title }} RSS Feed" hreflang="x-default" href="https://simeononsecurity.ch/index" />
  
<!-- RSS | JSON -->
{{ range .AlternativeOutputFormats -}}
  {{ printf `<link rel="%s" type="%s" href="%s" title="%s" />` .Rel .MediaType.Type .Permalink $.Site.Title | safeHTML }}
{{ end -}}

<!-- add a <link> tag to all the pages for manifest.json  -->
<link rel="manifest" fetchpriority="low" as="manifest" href="{{ "manifest.json" | absURL }}">

<!-- Icons -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="{{ "img/apple-touch-icon-144-precomposed.png" | absURL }}" />
<link rel="apple-touch-icon" sizes="192x192" href="{{ "img/apple-touch-icon-192.png" | absURL }}" />
<link rel="icon" type="image/png" sizes="144x144" href="{{ "img/apple-touch-icon-144-precomposed.png" | absURL }}">
<link rel="icon" type="image/png" sizes="192x192" href="{{ "img/apple-touch-icon-192.png" | absURL }}">
<link rel="shortcut icon" href="{{ "img/favicon.png" | absURL }}" />

<!-- preload and prefetch third-party js -->
{{ if not $.Site.IsServer }}
  <link rel="prefetch" href="https://www.googletagmanager.com/gtag/js?id=G-W3SL745QY6" as="script" type="text/javascript" crossorigin="anonymous">
  <link rel="prefetch" href="https://www.clarity.ms/tag/g45ppf746r" as="script" type="text/javascript" crossorigin="anonymous">
  <link rel="prefetch" href="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4092442123207538" as="script" type="text/javascript" crossorigin="anonymous">
  <link rel="prefetch" href="https://resources.infolinks.com/js/infolinks_main.js" as="script" type="text/javascript" crossorigin="anonymous">
{{ end }}

{{ if in (urlize .Permalink) "/search" }}
  <link rel="prefetch" href="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.6.2/fuse.min.js" as="script" type="text/javascript" crossorigin="anonymous">
  <link rel="prefetch" href="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" as="script" type="text/javascript" crossorigin="anonymous">
{{ end }}

{{ $disabledURLs := slice "/about" "/contact" "/terms" "/privacy" }}
{{ $currentPath := .Permalink }}
{{ $disableComments := false }}
{{ range $disabledURLs }}
  {{ if (in $currentPath .) }}
    {{ $disableComments = true }}
  {{ end }}
{{ end }}
{{ if not $disableComments }}
  {{ if not (eq .Params.Comments.enable false) }}
  <link rel="prefetch" href="https://utteranc.es/client.js" as="script" type="text/javascript" fetchpriority="low">
  {{ end }}
{{ end }}
