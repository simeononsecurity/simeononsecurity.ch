<!-- Preconnect third-party DNS for JS -->
<link rel="preconnect" href="https://pagead1.googlesyndication.com https://pagead2.googlesyndication.com https://www.google-analytics.com https://google-analytics.com https://ws-na.amazon-adsystem.com https://amazon-adsystem.com https://cdn.ampproject.org https://cdn.jsdelivr.net https://fonts.gstatic.com https://gstatic.com https://googleads.g.doubleclick.net https://tpc.googlesyndication.com https://googletagservices.com https://utteranc.es https://static.cloudflareinsights.com https://cdnjs.cloudflare.com/" />

<!-- preload and prefetch first-party js -->
<link rel="prefetch" href="{{ "assets/main.js" | absURL }}" as="script" type="text/javascript"/>
{{ if .IsPage }}
  <link rel="prefetch" href="{{ "assets/prism.js" | absURL }}" as="script" type="text/javascript"/>
{{ end }}
<link rel="prefetch" href="/service-worker.js" as="script" type="text/javascript"/>
<link rel="prefetch" href="/js/search.js" as="script" type="text/javascript"/>

<!-- preload and prefetch third-party js -->
<link rel="prefetch" href="https://www.google-analytics.com/analytics.js" as="script" type="text/javascript"/> 
<link rel="prefetch" href="https://cdn.jsdelivr.net/npm/ga-lite@2/dist/ga-lite.min.js" as="script" type="text/javascript"/> 
<link rel="prefetch" href="https://www.googletagmanager.com/gtag/js?id=G-W3SL745QY6" as="script" type="text/javascript"/>
<link rel="prefetch" href="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4092442123207538" as="script" type="text/javascript"/> 
<link rel="prefetch" href="https://ws-na.amazon-adsystem.com/widgets/q?ServiceVersion=20070822&Operation=GetScript&ID=OneJS&WS=1&MarketPlace=US" as="script" type="text/javascript"/>
<link rel="prefetch" href="https://utteranc.es/client.js" as="script" type="text/javascript"/>
<link rel="prefetch" href="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.6.2/fuse.min.js" as="script" type="text/javascript"/>
<link rel="prefetch" href="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" as="script" type="text/javascript"/>

<!-- preload images -->
{{ if .Params.UseRelativeCover }}
<link rel="prefetch" as="image" href="{{ (printf "%s%s" .Permalink .Params.Cover ) }}"/>
{{ else }}
<link rel="prefetch" as="image" href="{{ .Params.Cover | absURL }}"/>
{{ end }}

<!-- Fonts -->
<link href="{{ (resources.Get "fonts/Inter-Italic.woff2").RelPermalink }}" rel="prefetch" type="font/woff2" as="font" crossorigin="">
<link href="{{ (resources.Get "fonts/Inter-Regular.woff2").RelPermalink }}" rel="prefetch" type="font/woff2" as="font" crossorigin="">
<link href="{{ (resources.Get "fonts/Inter-Medium.woff2").RelPermalink }}" rel="prefetch" type="font/woff2" as="font" crossorigin="">
<link href="{{ (resources.Get "fonts/Inter-MediumItalic.woff2").RelPermalink }}" rel="prefetch" type="font/woff2" as="font" crossorigin="">
<link href="{{ (resources.Get "fonts/Inter-Bold.woff2").RelPermalink }}" rel="prefetch" type="font/woff2" as="font" crossorigin="">
<link href="{{ (resources.Get "fonts/Inter-BoldItalic.woff2").RelPermalink }}" rel="prefetch" type="font/woff2" as="font" crossorigin="">

<!-- Theme CSS -->
<link rel="preload" href="{{ "style.css" | absURL }}" as="style">
<link rel="stylesheet" href="{{ "assets/style.css" | absURL }}" async/>

<!-- Custom CSS to override theme properties (/static/style.css) -->
<link rel="preload" href="{{ "style.css" | absURL }}" as="style">
<link rel="stylesheet" href="{{ "style.css" | absURL }}" async/>

<!-- Icons -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="{{ "img/apple-touch-icon-144-precomposed.png" | absURL }}" />
<link rel="apple-touch-icon" sizes="192x192" href="{{ "img/apple-touch-icon-192.png" | absURL }}" />
<link rel="icon" type="image/png" sizes="144x144" href="{{ "img/apple-touch-icon-144-precomposed.png" | absURL }}">
<link rel="icon" type="image/png" sizes="192x192" href="{{ "img/apple-touch-icon-192.png" | absURL }}">
<link rel="shortcut icon" href="{{ "img/favicon.png" | absURL }}" />

<!-- add a <link> tag to all the pages for manifest.json  -->
<link rel="manifest" href="{{ "manifest.json" | absURL }}">

<!-- mastodon verification  -->
<a rel="me" title="mastodon verification" href="https://mastodon.world/@simeononsecurity"></a>

<!-- RSS | JSON -->
{{ range .AlternativeOutputFormats -}}
  {{ printf `<link rel="%s" type="%s" href="%s" title="%s" />` .Rel .MediaType.Type .RelPermalink $.Site.Title | safeHTML }}
{{ end -}}
<link href="https://simeononsecurity.ch/rss.xml" rel="alternate" type="application/rss+xml" title="{{ $.Site.Title }}" />
<link href="https://simeononsecurity.ch/rss.xml" rel="feed" type="application/rss+xml" title="{{ $.Site.Title }}" />
<link href="https://feeds.feedburner.com/simeononsecurity" rel="feed" type="application/rss+xml" title="{{ $.Site.Title }}" />

<!-- Hardcoded sitemap links -->
<link rel="sitemap" type="application/xml" title="Sitemap" href="https://simeononsecurity.ch/sitemap.xml"/>
<link rel="sitemap" type="application/xml" title="Sitemap" hreflang="en-US" href="https://simeononsecurity.ch/sitemap.en.xml" />
<link rel="sitemap" type="application/xml" title="Sitemap" hreflang="es-ES" href="https://es.simeononsecurity.ch/sitemap.es.xml" />
<link rel="sitemap" type="application/xml" title="Sitemap" hreflang="fr" href="https://fr.simeononsecurity.ch/sitemap.fr.xml" />
<link rel="sitemap" type="application/xml" title="Sitemap" hreflang="de" href="https://de.simeononsecurity.ch/sitemap.de.xml" />
<link rel="sitemap" type="application/xml" title="Sitemap" hreflang="hi" href="https://hi.simeononsecurity.ch/sitemap.hi.xml" />
<link rel="sitemap" type="application/xml" title="Sitemap" hreflang="ar" href="https://ar.simeononsecurity.ch/sitemap.ar.xml" />

<!-- Inform Multilingual -->
<link rel="alternate" hreflang="en-US" href="https://simeononsecurity.ch" />
<link rel="alternate" hreflang="es-ES" href="https://es.simeononsecurity.ch" />
<link rel="alternate" hreflang="fr" href="https://fr.simeononsecurity.ch" />
<link rel="alternate" hreflang="de" href="https://de.simeononsecurity.ch" />
<link rel="alternate" hreflang="hi" href="https://hi.simeononsecurity.ch" />
<link rel="alternate" hreflang="ar" href="https://ar.simeononsecurity.ch" />

<script async>
const divInstall = document.getElementById('installContainer');
const butInstall = document.getElementById('butInstall');

// Register the service worker
if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('/service-worker.js').then(function(registration) {
      console.log('Service Worker registration successful with scope: ', registration.scope);
    }, function(err) {
      console.log('Service Worker registration failed: ', err);
    });
  });
}

/**
 * Warn the page must be served over HTTPS
 * The `beforeinstallprompt` event won't fire if the page is served over HTTP.
 * Installability requires a service worker with a fetch event handler, and
 * if the page isn't served over HTTPS, the service worker won't load.
 */
if (window.location.protocol === 'http:') {
  const requireHTTPS = document.getElementById('requireHTTPS');
  const link = requireHTTPS.querySelector('a');
  link.href = window.location.href.replace('http://', 'https://');
  requireHTTPS.classList.remove('hidden');
}
</script>

<script defer type="text/javascript">
  (function(c,l,a,r,i,t,y){
      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
      t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
      y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
  })(window, document, "clarity", "script", "g45ppf746r");
</script>