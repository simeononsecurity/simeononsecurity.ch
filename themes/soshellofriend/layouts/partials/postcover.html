<figure class="post-cover">
    {{ if .Params.UseRelativeCover }}
    {{ $cover := resources.GetRemote (printf "%s%s" .Permalink .Params.Cover) }}
    {{ $micro := ($cover.Resize "20x webp q20") }}
    {{ $tiny := ($cover.Resize "240x webp q50") }}
    {{ $small := ($cover.Resize "480x webp q50") }}
    {{ $medium := ($cover.Resize "731x webp q50") }}
    <picture>
      <source 
        srcset="{{ $medium.RelPermalink }} 731w, {{ $small.RelPermalink }} 480w, {{ $tiny.RelPermalink }} 240w" 
        sizes="(min-width: 2560px) 731px, (min-width: 780px) 480px, (min-width: 384px) 240px, 20px, calc(80.53vw - 21px)"
        media="(min-width: 200px)">
      <img src="{{ $micro.RelPermalink }} | default $.Site.Params.publisherLogo"
        alt="{{ .Params.CoverAlt | plainify | default .Title }}"
        height="731"
        width="480"
        loading="lazy"
      />
    </picture>        
    {{ else }}
      {{ $cover := resources.Get (.Params.Cover)}}
      {{ $micro := ($cover.Resize "20x webp q20") }}
      {{ $tiny := ($cover.Resize "240x webp q50") }}
      {{ $small := ($cover.Resize "480x webp q50") }}
      {{ $medium := ($cover.Resize "731x webp q50") }}
      <picture>
        <source 
          srcset="{{ $medium.RelPermalink }} 731w, {{ $small.RelPermalink }} 480w, {{ $tiny.RelPermalink }} 240w" 
          sizes="(min-width: 2560px) 731px, (min-width: 780px) 480px, (min-width: 384px) 240px, 20px, calc(80.53vw - 21px)"
          media="(min-width: 200px)">
        <img src="{{ $micro.RelPermalink }} | default $.Site.Params.publisherLogo"
          alt="{{ .Params.CoverAlt | plainify | default .Title }}"
          height="731"
          width="480"
          loading="lazy"
        />
      </picture>           
    {{ end }}
    {{ if .Params.CoverCaption }}
      <figcaption class="center">{{ .Params.CoverCaption | markdownify }}</figcaption>
    {{ end }}
</figure>
