---
title: "Windows ドメインおよびスタンドアロン マシンにおけるタイム ソース管理のベスト プラクティス"
draft: false
toc: true
date: 2023-05-23
description: "Windows ドメインおよびスタンドアロン マシンでタイム ソースを効果的に設定および処理して、正確な時刻同期を確保し、潜在的な問題を回避する方法を学びます。"
tags: ["時間源", "Windowsドメイン", "スタンドアロンマシン", "時刻同期", "正確な計時", "NTPサーバー", "ドメインコントローラー", "Windows タイム サービス", "認証の失敗", "ログファイルの不整合", "レプリケーションの問題", "タイムソース構成", "タイムソース管理", "Windows の時刻同期", "時間管理のベスト プラクティス", "タイムソースのセットアップ", "システム時刻の同期", "Windows ドメインの時刻同期", "スタンドアロンマシンの時刻同期", "タイムソースの選択", "タイムソースのトラブルシューティング", "タイムソースエラー", "時間源の問題", "タイムソース設定コマンド", "タイムソースのセットアップ手順", "時刻同期の課題", "時間ロスの影響", "タイムドリフト防止", "時刻同期失敗の解決", "時刻同期のトラブルシューティング", "Windows ドメインでのタイム ソース管理", "スタンドアロン Windows マシンでのタイム ソースの処理", "Windows環境での時間ロスの防止", "時刻同期の失敗による影響", "正確な時間管理のためのベストプラクティス"]
cover: "/img/cover/An_image_depicting_a_clock_being_synchronized_with_a_domain.png"
coverAlt: "ドメイン コントローラーおよびスタンドアロン マシンと同期されている時計を描いた画像。Windows 環境におけるタイム ソース管理と正確な時刻同期を象徴しています。"
coverCaption: ""
---

**Windows ドメインおよびスタンドアロン Windows マシンでタイム ソースを設定および処理する方法**

時刻の同期は、正確なタイムスタンプを維持し、Windows ドメインまたはスタンドアロン Windows マシン内のシステムが適切に機能することを保証するために非常に重要です。この記事では、両方のシナリオにおけるタイム ソースの設定と処理のベスト プラクティスについて説明し、ドメイン メンバーがドメイン コントローラーを指すことの重要性を強調します。また、最適な精度を実現するために外部 NTP プールまたは GPS ベースのタイム サーバーの使用に重点を置き、タイム ソースのさまざまなオプションを検討します。

______

## Windows ドメインでの時刻ソースの設定

Windows ドメインでは、すべてのドメイン メンバー間で一貫した時刻同期が行われることが重要です。ベスト プラクティスは、ドメイン メンバーのプライマリ タイム ソースとしてドメイン コントローラーを構成することです。そうすることで、ドメイン内のすべてのシステムの時刻が確実に同期されます。これは、認証、ログ記録、およびさまざまなドメイン操作にとって重要です。

### ドメイン コントローラーのタイム ソース オプション

ドメイン コントローラーは、BIOS クロック、VMware Tools (仮想化環境の)、外部タイム サーバーなど、さまざまなソースから時刻を取得できます。 BIOS クロックまたは VMware Tools の使用は便利ですが、精度を高めるために、外部 NTP プールや GPS ベースのタイム サーバーなどの**ストラタム 0 または 1 ソース**を利用することをお勧めします。

#### 外部 NTP プール

外部 NTP プールは、グローバルに分散された時刻同期の信頼できるソースです。これらは、世界中の組織や機関によって保守されている多数の NTP サーバーで構成されています。外部 NTP プールと同期するようにドメイン コントローラーを構成すると、Windows ドメイン内で正確な時刻を維持できます。

外部 NTP プールを使用するようにドメイン コントローラーを設定するには、次の手順に従います。

1. ドメイン コントローラーで管理者特権のコマンド プロンプトを開きます。
2. 次のコマンドを実行します。

```shell
w32tm /config /syncfromflags:manual /manualpeerlist:"pool.ntp.org" /reliable:yes /update
```

このコマンドは、pool.ntp.org NTP プールと同期するようにドメイン コントローラーを構成します。必要に応じて、別の NTP プールまたは複数のソースを使用するようにコマンドを調整します。

3. Windows タイム サービスを再起動して、変更を適用します。

```shell
net stop w32time && net start w32time
```


#### GPS ベースのタイム サーバー

ドメイン コントローラーのもう 1 つのオプションは、GPS ベースのタイム サーバーを利用することです。これらのサーバーは GPS 信号に依存して、高精度の時刻情報を提供します。ローカルでホストされる GPS ベースのタイム サーバーをセットアップし、それと同期するようにドメイン コントローラーを構成することにより、Windows ドメイン内で正確な時刻同期を実現できます。

### ドメインメンバーの構成

クライアント マシンやその他のサーバーなどのドメイン メンバーは、ドメイン コントローラーと時刻を同期するように構成する必要があります。これにより、ドメイン内のすべてのシステムの同期が確保され、時間関連の問題が回避されます。

ドメイン メンバーがドメイン コントローラーと時刻を同期するように構成するために、通常は追加の手順は必要ありません。デフォルトでは、ドメイン メンバーはドメイン コントローラーと時刻を自動的に同期します。

______

## スタンドアロン Windows マシンでのタイム ソースの設定

ドメインに属していないスタンドアロンの Windows マシンでは、タイム ソースを設定するプロセスは Windows のバージョンと地域の設定によって異なる場合があります。デフォルトでは、スタンドアロン Windows マシンは通常、**time.windows.com** を主要な時刻ソースとして使用します。ただし、デフォルトの動作は変更できることに注意してください。

### スタンドアロン マシンでのタイム ソースの変更

スタンドアロン Windows マシンでタイム ソースを変更する場合は、次の手順を実行できます。

1. マシン上で管理者特権のコマンド プロンプトを開きます。
2. 次のコマンドを実行して、NTP サーバーを構成します。

```shell
w32tm /config /syncfromflags:manual /manualpeerlist:"time.windows.com" /update
```

このコマンドは、スタンドアロン マシンのタイム ソースとして time.windows.com を設定します。必要に応じて、別の時間ソースを使用するようにコマンドを調整します。

3. 変更を有効にするために Windows タイム サービスを再起動します。

```shell
net stop w32time && net start w32time
```


これらのコマンドを実行すると、スタンドアロン Windows マシンの時刻を目的のタイム ソースと同期するように構成できます。

______

＃＃ 結論

適切な時刻同期は、Windows ドメインとスタンドアロン マシンの両方にとって不可欠です。 Windows ドメインでは、時刻同期のためにドメイン コントローラーを指すようにドメイン メンバーを構成することが重要です。ドメイン コントローラーはさまざまなソースから時刻を取得できますが、精度を高めるには外部 NTP プールまたは GPS ベースのタイム サーバーを使用することをお勧めします。

スタンドアロン Windows マシンでは、通常、デフォルトのタイム ソースは time.windows.com です。ただし、提供されているコマンドを使用してタイム ソースを変更できます。

これらのベスト プラクティスに従い、適切なタイム ソースを構成することで、Windows 環境内での正確な時間管理、信頼性の高い認証、および一貫したログ記録が保証されます。

______

## 参考文献

- [Microsoft Docs: How the Windows Time Service Works](https://learn.microsoft.com/en-us/windows-server/networking/windows-time-service/how-the-windows-time-service-works)
- [Microsoft Docs: Windows Time Service Tools and Settings](https://docs.microsoft.com/en-us/windows-server/networking/windows-time-service/windows-time-service-tools-and-settings)
- [NTP Pool Project](https://www.ntppool.org/)
- [National Institute of Standards and Technology (NIST)](https://www.nist.gov/)

