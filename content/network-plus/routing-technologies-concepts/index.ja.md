---
title: "ネットワーク・プラス・コースルーティングプロトコル、コンセプト、最適化"
date: 2023-07-07
toc: true
draft: false
description: "RIP、OSPF、EIGRP、BGPなどのダイナミックルーティングプロトコルから、リンクステート、ディスタンスベクトル、ハイブリッドルーティングプロトコル、さらにスタティックルーティングやデフォルトルートの設定まで、ルーティングテクノロジーとコンセプトの世界を探求します。"
genre: ["テクノロジー", "ネットワーキング", "ルーティング", "ネットワーク・プロトコル", "ネットワーク管理", "ダイナミック・ルーティング", "スタティック・ルーティング", "帯域幅管理", "サービス品質", "ネットワーク機器"]
tags: ["ルーティング技術", "動的ルーティングプロトコル", "リップ", "オープンさいたんパスファースト", "EIGRP", "BGP", "リンク状態", "距離ベクトル", "ハイブリッドルーティングプロトコル", "スタティックルーティング", "デフォルトルート", "行政距離", "エクステリア・ルーティング", "インテリアルーティング", "生きる時間", "帯域管理", "トラフィックシェーピング", "サービス品質", "ネットワーク機器", "ルーター", "スイッチ", "ファイアウォール", "ロードバランサー", "アクセスポイント", "ネットワーク最適化", "ネットワーク・パフォーマンス", "ネットワークセキュリティ", "ネットワークアーキテクチャ", "ネットワークトラフィック"]
cover: "/img/cover/An_illustration_of_interconnected_network_devi.png"
coverAlt: "相互接続されたネットワーク機器とその間を流れるデータの図。"
coverCaption: "デジタルハイウェイをナビゲートするネットワーク・ルーティングの最適化"
---

#### [Click Here to Return To the Network Plus Course Page](/network-plus-start)

#はじめに

今日の相互接続された世界において、効率的なネットワーク・ルーティングは円滑なデータ伝送と通信に不可欠である。ルーティング技術とコンセプトは、ネットワークトラフィックを誘導し、ネットワークパフォーマンスを最適化する上で重要な役割を果たします。この記事では、RIP、OSPF、EIGRP、BGPなどの様々なルーティングプロトコルと、リンクステート、ディスタンスベクトル、ハイブリッドルーティングプロトコルについて説明します。また、スタティック・ルーティングとデフォルト・ルートの設定と使用方法についても掘り下げていきます。さらに、さまざまなデバイスとネットワーク上の配置を比較対照します。

{{< youtube id="YRzr56cwgCg" >}}

## ダイナミックルーティングプロトコル

動的ルーティングプロトコルは、ルーター間のルーティング情報の交換プロセスを自動化するように設計されています。ルーティングテーブルを動的に更新することで、トポロジーの変更やリンク障害などのネットワークの変化に適応します。よく使われるダイナミックルーティングプロトコルを詳しく見ていきましょう：

### ルーティングインターネットプロトコル(RIP)

ルーティング・インターネット・プロトコル（RIP）は、ルーター間のホップ数に基づいて動作するディスタンスベクタ・ルーティング・プロトコルです。ホップ数メトリックを使用して、宛先ネットワークへの最良のパスを決定します。RIPはIPv4とIPv6の両方をサポートしており、小規模から中規模のネットワークに適しています。

### オープン最短パスファースト（OSPF）

Open Shortest Path First (OSPF) はリンクステート・ルーティング・プロトコルで、ダイクストラ・アルゴリズムを使用して宛先への最短パスを計算します。帯域幅、遅延、信頼性など、さまざまな指標を考慮して最適な経路を決定します。OSPFは、そのスケーラビリティと高速コンバージェンスにより、大規模な企業ネットワークで広く使用されています。

### 拡張内部ゲートウェイルーティングプロトコル（EIGRP）

EIGRP（Enhanced Interior Gateway Routing Protocol）は、シスコが開発したハイブリッド・ルーティング・プロトコルです。EIGRPはディスタンスベクターとリンクステートプロトコルの両方の長所を兼ね備えています。EIGRPは拡散更新アルゴリズム（DUAL）を使用してルートを計算し、不等コスト負荷分散やルート要約などの高度な機能を提供します。

### ボーダーゲートウェイプロトコル (BGP)

ボーダーゲートウェイプロトコル（BGP）は、インターネットの自律システム（AS）間のルーティングに使用される外部ゲートウェイプロトコルです。BGPは拡張性が高く、自律システムがルーティング情報を交換できるようにします。パス属性とポリシーを使用して、ネットワークポリシー、パス長、ASパスなどの要素に基づいてルーティングを決定します。

## リンクステート、距離ベクトル、ハイブリッドルーティングプロトコル

ルーティングプロトコルは、その動作と経路決定に使用する情報に基づいて、リンクステート、ディスタンスベクトル、ハイブリッドに分類することができます。

### リンクステートルーティングプロトコル

OSPFのようなリンクステート・ルーティング・プロトコルは、ルーター間でリンクステート情報を交換することで、ネットワーク全体の詳細なマップを維持します。各ルーターはトポロジカル・データベースを構築し、様々なメトリクスに基づいて宛先ネットワークへのベストパスを計算することができます。

### ディスタンス・ベクトル・ルーティング・プロトコル

RIPなどの距離ベクトルルーティングプロトコルは、単純なメトリック（ホップ数など）を使用し、隣接するルーターとルーティング情報を交換します。ルーターは定期的にルーティングテーブルを隣接ルーターにアドバタイズし、ネットワークのイメージを構築できるようにします。ディスタンス ベクトル プロトコルは、ネットワーク全体の知識が限られているため、ルーティング ループが発生しやすい。

### ハイブリッドルーティングプロトコル

EIGRPのようなハイブリッドルーティングプロトコルは、リンクステートプロトコルとディスタンスベクタプロトコルの両方の特徴を兼ね備えています。リンクステート・プロトコルに似たトポロジーテーブルを保持しますが、経路の計算にはディスタンス・ベクタ・アルゴリズムを使用します。ハイブリッドプロトコルは収束が速く、オーバーヘッドが少ないという利点があります。

## スタティックルーティングとデフォルトルート

スタティックルーティングは、ルーターのルーティングテーブルを手動で設定し、特定のネットワークに到達するパスを指定します。通常、ネットワークトポロジーの変更が最小限か予測可能なシナリオで使用されます。スタティックルートは設定が簡単で、小規模なネットワークや特定のネットワークセグメントに便利です。

デフォルトルートは、最後の頼みの綱のゲートウェイとも呼ばれ、宛先ネットワークに明示的なルートが存在しない場合に使用されます。ルーターが宛先ネットワークを知らない場合、デフォルトゲートウェイにトラフィックを誘導するようにルーターで設定されます。

## 管理距離、外部対内部、および生存時間

{{< youtube id="HR59xk4umWY" >}}

### 行政上の距離

アドミニストレイティブ・ディスタンス(AD)は、ルーター上で複数のプロトコルが動作している場合に、経路の優先度を決定するためにルーティング・プロトコルに割り当てられる値です。管理距離の値が小さいほど、特定のルーティングプロトコルの優先順位が高いことを示します。例えば、OSPFはRIP（120）よりもAD（110）が低いので、OSPFルートはRIPルートよりも優先されます。

### エクステリア・ルーティングとインテリア・ルーティング

BGPのようなエクスターナル・ルーティング・プロトコルは、自律システム（AS）間でルーティング情報を交換するために使われます。異なる組織やサービスプロバイダー間のルーティングを扱います。一方、RIP、OSPF、EIGRPなどの内部ルーティングプロトコルは、自律システム内のルーティングに使用されます。

### 生存時間（TTL）

TTL（Time to Live）はIPパケットのフィールドで、パケットが破棄されるまでに移動できる最大ホップ数を指定する。ルーティングループやその他の問題が発生した場合に、パケットがネットワーク内を無制限に循環することを防ぎます。各ルーターは、パケットがネットワークを通過する際にTTL値をデクリメントします。

## 帯域幅管理

効率的な帯域幅管理は、ネットワークパフォーマンスを最適化し、トラフィックのスムーズな流れを確保するために極めて重要です。帯域幅管理の2つの重要な側面は、トラフィックシェーピングとQoS（Quality of Service）である。

### トラフィックシェーピング

トラフィックシェーピングは、ネットワーク上のデータ転送速度を制御するために使用 される技術です。ネットワーク管理者は、帯域幅の制限を定義し、特定のタイプのトラフィックを優先することで、トラフィックフローを形成することができます。これにより、ネットワークの輻輳を防ぎ、重要なアプリケーションに十分な帯域幅を確保することができます。

### サービス品質（QoS）

QoS（Quality of Service）とは、ネットワークの重要性と要件に基づいて、さまざまなタイプのトラフィッ クに優先順位を付け、リソースを割り当てる機能のことです。トラフィックの優先順位付け、帯域幅の割り当て、輻輳管理などの QoS メカニズムは、音声やビデオなどのリアルタイム・アプリケーションの最適なパフォーマンスを確保するのに役立ちます。

## デバイスの比較と配置

異なるデバイスは、ネットワークにおいて特定の役割を果たし、特定のタスクに適した様々な特徴を持っています。ここでは、一般的なネットワークデバイスを比較対照し、適切な配置について説明します：

- ルータールーター**：ルーターは異なるネットワーク間のトラフィックを誘導する役割を担っています。ルーターはネットワーク層（レイヤー3）で動作し、ルーティングプロトコルを使用してデータ転送の最適な経路を決定します。

- スイッチスイッチはデータリンク層（レイヤー2）で動作し、ローカルエリアネットワーク（LAN）内のデバイス間の通信を容易にします。MACアドレスを使用して、データパケットを目的の受信者に転送します。

- ファイアウォールファイアウォールは、不正アクセスや悪意のあるトラフィックからネットワークを保護します。ファイアウォールは、ネットワーク・トラフィックを検査し、事前に定義されたルールに基づいて特定の接続を許可またはブロックすることにより、セキュリティ・ポリシーを実施します。

- ロードバランサーロードバランサーは、受信したネットワークトラフィックを複数のサーバーに分散し、リソースの利用を最適化し、パフォーマンスを向上させ、高可用性を確保します。

- アクセス・ポイントアクセスポイント（AP）は、ネットワーク内のデバイスにワイヤレス接続を提供します。無線デバイスと有線ネットワーク間でデータを送受信することで、無線通信を可能にします。

これらのデバイスの配置は、ネットワークアーキテクチャと要件によって異なります。**ルーター**は通常、ネットワーク境界部に配置され、ネットワーク間のトラフィックを処理します。**スイッチ**はLAN内に配置され、デバイスを接続してローカル通信を促進します。**ファイアウォール**は、外部の脅威から保護するためにネットワーク間に配置されます。**ロードバランサー**は、トラフィックを効率的に分散するためにWebサーバーの前に配置されます。**アクセスポイント**は戦略的に配置され、必要なエリアにワイヤレスカバレッジを提供します。

______

## 結論

ルーティング技術とコンセプト**を理解することは、ネットワーク管理者やITプロフェッショナルにとって非常に重要です。**RIP、OSPF、EIGRP、BGP**のような**動的ルーティングプロトコル**は、ルーティング情報の交換プロセスを自動化し、ネットワークの変化に適応します。**リンクステート、ディスタンスベクトル、およびハイブリッドルーティングプロトコル**は、最適なルートを決定するためのさまざまなアプローチを提供します。**スタティックルーティングとデフォルトルート**は、ルーティング決定を手動で制御します。**トラフィックシェーピングや QoS** などの**帯域幅管理** 技術は、効率的なネットワーク利用を保証します。ネットワーク・デバイスを適切に比較・配置することで、ネットワーク・パフォーマンスとセキュリティが向上します。

ルーティング技術とコンセプト**を習得することで、ネットワーク管理者は、現代のコネクティビティの要求を満たす**堅牢で効率的なネットワーク**を構築することができます。

______