---
title: "初心者のためのガイド：サイバーセキュリティのためのLinuxコマンドライン活用"
date: 2023-03-13
toc: true
draft: false
description: "サイバーセキュリティのためのLinuxコマンドラインの使い方を、基本的なコマンドと高度なコマンドを交えてご紹介します。"
tags: ["リナックス", "コマンドライン", "サイバーセキュリティ", "ビギナーズガイド", "ネットワーク・スキャニング", "脆弱性テスト", "マルウェア解析", "パーミッション", "ネットワークトラフィック", "プロセスステータス", "ネットワーク統計", "ファイル検索", "ワイヤシャーク", "ティーシーピーダンプ", "エヌマップ", "Linux CLI", "セキュリティ", "ペネトレーションテスト", "デジタルフォレンジック"]
cover: "/img/cover/A_cartoon_illustration_of_a_person_wearing_a_hoodie.png"
coverAlt: "パーカーを着た人が、Linuxのコマンドラインインターフェイスが見えるコンピュータ画面の前に座り、虫眼鏡を持っている漫画のイラストで、サイバーセキュリティの側面を表現しています。"
coverCaption: ""
---

**Linux**は、そのオープンソースの性質上、サイバーセキュリティ業界で広く使用されている汎用的で安全なオペレーティングシステムです。しかし、初心者がLinuxのコマンドラインインターフェイス（CLI）を使ってサイバーセキュリティタスクを実行するのは困難なことかもしれません。本ガイドは、サイバーセキュリティの目的に役立つ基本的なLinux CLIコマンドと高度なLinux CLIコマンドの概要を初心者に提供することを目的としています。

## サイバーセキュリティのための基本的なLinuxコマンド

### 作業ディレクトリの印刷

CLI で現在の作業ディレクトリを表示するには、**pwd** (print working directory) コマンドを使用します。作業ディレクトリは、ファイルシステムで現在位置するディレクトリです。このコマンドは、ファイルシステムをナビゲートし、他のディレクトリとの関係で自分の位置を理解するのに便利です。たとえば、ホームディレクトリにいるときに、ドキュメントディレクトリに移動したい場合、次のコマンドを使用できます：

```bash
$ pwd
/home/user
$ cd documents
$ pwd
/home/user/documents
```

上記の例では、最初のコマンドは、ホームディレクトリである現在の作業ディレクトリを表示します。2番目のコマンドは、ディレクトリをdocumentsディレクトリに変更し、3番目のコマンドは、documentsディレクトリになった現在の作業ディレクトリを表示します。

### リスト

CLIでディレクトリの内容を一覧表示するには、**ls**コマンドを使用します。このコマンドは、現在の作業ディレクトリにあるファイルおよびディレクトリの名前を表示します。このコマンドは、特定の場所にあるファイルやディレクトリを特定するのに便利です。たとえば、documentsディレクトリの内容を確認したい場合、次のコマンドを使用します：

```bash
$ ls documents
file1.txt file2.pdf file3.docx
```

上の例では、documentsディレクトリの内容を一覧表示し、file1.txt、file2.pdf、file3.docxの3つのファイルが含まれています。また、引数なしでこのコマンドを使用すると、現在の作業ディレクトリの内容を一覧表示することができます。例えば、次のようになります：

```bash
$ ls
Desktop Documents Downloads Music Pictures Public Templates Videos
```

上記の例では、コマンドは、デスクトップ、ドキュメント、ダウンロードなど、いくつかのサブディレクトリを含むホームディレクトリの内容を一覧表示します。

### ディレクトリの変更

CLIで現在の作業ディレクトリを変更するには、**cd**（ディレクトリの変更）コマンドを使用します。このコマンドを使用すると、ファイルシステム内を移動して、異なる場所にあるファイルにアクセスすることができます。たとえば、現在の作業ディレクトリをdocumentsディレクトリに変更したい場合、次のコマンドを使用します：

```bash
$ cd documents
```

上記の例では、このコマンドは、現在の作業ディレクトリを、現在の作業ディレクトリにあるdocumentsディレクトリに変更します。また、絶対パスまたは相対パスを指定してコマンドを使用すると、作業ディレクトリを現在の作業ディレクトリにないディレクトリに変更することができます。たとえば、次のようになります：

```bash
$ cd /usr/local/bin
```

上記の例では、コマンドは現在の作業ディレクトリを絶対パスである /usr/local/bin ディレクトリに変更します。また、相対パスを使用して作業ディレクトリを変更することもできます。たとえば、次のようになります：

```bash
$ cd ../..
```


上記の例では、現在の作業ディレクトリから2階層上のディレクトリを変更するコマンドです。...」という表記は親ディレクトリを表し、これを用いてディレクトリツリーを上に移動することができます。


### 連鎖させる

CLIでファイルの内容を表示するには、**cat**（concatenate）コマンドを使用します。このコマンドは、ログファイルや設定ファイルのようなテキストベースのファイルの内容を表示するのに便利です。例えば、「file1.txt」という名前のファイルの内容を表示したい場合、以下のコマンドを使用します：

```bash
$ cat file1.txt
```

上記の例では、コマンドはファイル「file1.txt」の中身を表示します。また、このコマンドを使用して、複数のファイルを連結し、その内容をCLIで表示することができます。例えば、以下のようになります：

```bash
$ cat file1.txt file2.txt file3.txt
```


上記の例では、file1.txt、file2.txt、file3.txtの3つのファイルの内容が表示されます。また、コマンドにワイルドカードを使用すると、特定のパターンに一致するすべてのファイルを連結することができます。たとえば、次のようになります：

```bash
$ cat *.txt
```

上記の例では、現在の作業ディレクトリにある拡張子が「.txt」であるすべてのファイルの内容を表示するコマンドです。このコマンドは、複数のファイルを個別に開くことなく、その内容を素早く表示するのに便利です。


### グローバル正規表現印刷

grep**（グローバル正規表現プリント）コマンドは、CLIでファイルまたはファイル群の中から特定の文字列またはパターンを検索するために使用します。このコマンドは、ログファイルのパターンを特定したり、構成ファイルの特定の情報を検索したりするのに便利です。たとえば、「logfile.txt」という名前のファイル内で「error」という単語が出現するすべての回数を検索したい場合、次のコマンドを使用します：

```bash
$ grep "error" logfile.txt
```

上記の例では、コマンドはファイル「logfile.txt」内の「error」という単語の出現回数をすべて検索し、一致する行をCLIに表示します。コマンドを正規表現と組み合わせて使用すると、より複雑なパターンを検索することもできます。たとえば、「p」で始まり「y」で終わる単語を含むすべての行を検索したい場合、次のコマンドを使用します：

```bash
$ grep "p.*y" logfile.txt
```

上記の例では、ファイル「logfile.txt」において、"p "で始まり "y "で終わる単語を含むすべての行を検索しています。正規表現「p.*y」は、「p」で始まり「y」で終わる文字列と、その間にある任意の数の文字にマッチします。このコマンドは、セキュリティ上の脅威やパフォーマンスの問題を特定するのに役立つログファイルのパターンを見つけるのに便利です。


### モードを変更する

CLIでファイルやディレクトリのパーミッションを変更するには、**chmod**（チェンジモード）コマンドを使用します。このコマンドは、ファイルやディレクトリの安全性を確保し、誰がアクセスできるかを制御するために不可欠です。パーミッションは、それぞれオーナー、グループ、その他に対応する3桁の数字で表されます。桁は、次の式に基づいて計算されます：

```
4 = read
2 = write
1 = execute
```

例えば、「file1.txt」という名前のファイルに対して、所有者に読み取りと書き込みの権限を与え、グループとその他に読み取り専用の権限を与えたい場合、次のようなコマンドを使用します：

```bash
$ chmod 644 file1.txt
```

上記の例では、コマンドはファイル「file1.txt」のパーミッションを644に設定します。最初の桁（6）は所有者の権限を表し、読み取りと書き込み（4 + 2 = 6）である。2桁目（4）は、グループのアクセス権を表し、読み取り専用です。3桁目(4)は他の人の権限を表し、これも読み取り専用です。

また、文字入りのコマンドを使用して、パーミッションを変更することもできます。たとえば、「file2.txt」という名前のファイルに対して、所有者とグループには読み取りと書き込みの権限を与え、その他の人には権限を与えないようにしたい場合は、次のコマンドを使用します：

```bash
$ chmod ug=rw,o= file2.txt
```

上記の例では、コマンドはファイル「file2.txt」のパーミッションをug=rw,o=に設定します。ここで、「ug」は所有者とグループ、「r」は読み取り許可、「w」は書き込み許可を表しています。記号「=」は「～にパーミッションを設定する」、「o=」は「他の人のパーミッションをすべて削除する」という意味です。このコマンドは、機密性の高いファイルやディレクトリへのアクセスを制御し、不正なアクセスを防止するのに便利です。


## サイバーセキュリティのための高度なLinuxコマンド

### ネットワークマッパー

nmap** コマンドは、CLI の強力なネットワークスキャンツールで、ネットワーク上のホストやサービ ス、潜在的な脆弱性を特定するために使用することができます。このコマンドは、ホスト発見、ポートスキャン、オペレーティングシステムの検出など、さまざまなスキャン技術を実行することができます。

nmapの最も基本的な使い方の1つは、1つのIPアドレスまたはホストをスキャンすることです。たとえば、1つのIPアドレス（192.168.1.1）をスキャンしてオープンポートを探すには、次のコマンドを使用することができます：

```bash
$ nmap 192.168.1.1
```

上記のコマンドは、ターゲットIPに対してTCP SYNスキャンを実行し、オープンポートのリストを返します。出力には、開いているポートと、各ポートで実行されているサービス、ポートの状態（開いている/閉じている）、さらにターゲット上で実行されているオペレーティングシステムなどの追加情報が表示されます。

Nmapは、複数のホストやIPアドレスを一度にスキャンするために使用することもできます。たとえば、IPアドレスの範囲（192.168.1.1-255）でオープンポートをスキャンするには、次のコマンドを使用します：

```bash
$ nmap 192.168.1.1-255
```

上記のコマンドは、範囲内のすべてのIPアドレスをスキャンし、各ターゲットのオープンポートおよびサービスを返します。

nmapは、基本的なホスト発見とポートスキャンに加えて、サービスやバージョンの検出、OSの検出、脆弱性のスキャンなど、より高度なスキャンを実行することができます。これらのスキャンは、ネットワーク上の潜在的なセキュリティの脆弱性を特定し、潜在的な攻撃からネットワークを保護するために有用です。

### TCPパケットダンパー

tcpdump**コマンドは、CLIでネットワークトラフィックをキャプチャして分析するために使用され、ネットワーク問題のトラブルシューティング、ネットワークの動作分析、および潜在的なセキュリティ脅威の特定に役立ちます。このコマンドはリアルタイムでパケットをキャプチャし、送信元または送信先のIPアドレス、プロトコル、ポートなど、さまざまな基準に基づいてパケットをフィルタリングすることができます。

tcpdumpの最も基本的な使用方法の1つは、特定のインターフェイス上のすべてのネットワークトラフィックをキャプチャすることです。たとえば、eth0インターフェイス上のすべてのトラフィックをキャプチャするには、次のコマンドを使用します：

```bash
$ sudo tcpdump -i eth0
```

上記のコマンドは、eth0インターフェイス上のすべてのパケットをキャプチャし、CLIでリアルタイムに表示します。出力には、各パケットの送信元と宛先のIPアドレス、プロトコル、およびその他の情報が表示されます。

Tcpdumpは、さまざまな基準に基づいてパケットをフィルタリングするために使用することもできます。たとえば、特定のIPアドレスに送信された、または特定のIPアドレスから送信されたすべてのパケットをキャプチャするには、次のコマンドを使用します：

```bash
$ sudo tcpdump host 192.168.1.1
```

上記のコマンドは、IPアドレス192.168.1.1との間で送信されるすべてのパケットをキャプチャし、CLIでリアルタイムに表示します。また、プロトコル（TCP、UDPなど）、ポート番号、その他の条件に基づいてパケットをフィルタリングすることができます。

tcpdumpは、リアルタイムでパケットをキャプチャするだけでなく、後で分析するためにパケットをファイルにキャプチャするために使用することもできます。たとえば、eth0インターフェイスのすべてのパケットをキャプチャし、「capture.pcap」という名前のファイルに保存するには、次のコマンドを使用します：

```bash
$ sudo tcpdump -i eth0 -w capture.pcap
```

上記のコマンドは、eth0インターフェイス上のすべてのパケットをキャプチャし、pcap形式のファイル「capture.pcap」に保存し、後でWiresharkなどのツールで分析することができます。このコマンドは、ネットワークの動作を分析し、潜在的なセキュリティ脅威を特定するのに便利です。

### プロセスステータス

このコマンドは、システム上で実行されている可能性のある疑わしいプロセスを特定し、そのセキュリ ティを脅かす可能性がある場合に便利です。このコマンドは、プロセス ID (PID)、ユーザー、CPU とメモリの使用量、コマンド名など、実行中のプロセスに関するさまざまな情報を表示することができます。

psの最も基本的な使い方の1つは、システム上で実行中のすべてのプロセスのリストを表示することです。たとえば、システム上で実行中のすべてのプロセスのリストを表示するには、次のコマンドを使用します：

```bash
$ ps aux
```

上記のコマンドを実行すると、システム上で実行中のすべてのプロセスのリストが、そのPID、ユーザー、CPUとメモリの使用量、およびコマンド名とともに表示されます。このコマンドは、システム上で実行されているプロセスの全体像を把握し、実行中の疑わしいプロセスを特定するのに便利です。

Psは、特定のプロセスまたはプロセスのセットに関する情報を表示するためにも使用できます。たとえば、特定のPID（例：PID 1234）を持つプロセスに関する情報を表示するには、次のコマンドを使用します：

```bash
$ ps -p 1234
```

上記のコマンドを実行すると、PID 1234のプロセスに関する情報（ユーザー、CPUとメモリの使用量、コマンド名など）が表示されます。また、複数のPIDを指定することで、一連のプロセスに関する情報を表示することもできます。

実行中のプロセスに関する情報を表示するだけでなく、psを使用してプロセスの状態をリアルタイムで監視することができます。たとえば、特定のプロセス（例：PID 1234）のCPUとメモリの使用量をリアルタイムで監視するには、次のコマンドを使用します：

```bash
$ ps -p 1234 -o %cpu,%mem
```

上記のコマンドは、PID 1234のプロセスのCPUとメモリの使用率をリアルタイムで表示し、1秒ごとに出力を更新します。このコマンドは、重要なプロセスのパフォーマンスを監視し、潜在的なパフォーマンスのボトルネックを特定するのに便利です。

### ネットワーク統計

netstat**コマンドは、Linuxシステム上のアクティブなネットワーク接続に関する情報をCLIで表示し、不正なネットワーク接続や潜在的なセキュリティ脅威を特定するのに役立ちます。このコマンドは、ローカルおよびリモートのアドレス、使用されているプロトコル（例：TCP、UDP）、接続の状態など、アクティブなネットワーク接続に関するさまざまな情報を表示することができます。

netstatの最も基本的な使い方の1つは、システム上のすべてのアクティブなネットワーク接続のリストを表示することです。たとえば、すべてのアクティブなネットワーク接続のリストを表示するには、次のコマンドを使用します：

```bash
$ netstat -a
```


上記のコマンドを実行すると、システム上のすべてのアクティブなネットワーク接続のリストが表示され、ローカルアドレスとリモートアドレス、使用されているプロトコル、接続の状態も表示されます。このコマンドは、システム上のアクティブなネットワーク接続の全体像を把握し、未承認の接続を特定するのに便利です。

Netstat は、特定のプロトコル（TCP など）のネットワーク接続に関する情報を表示するのにも使用でき ます。たとえば、システム上のすべてのアクティブなTCP接続のリストを表示するには、次のコマンドを使用します：

```bash
$ netstat -at
```

上記のコマンドを実行すると、システム上のすべてのアクティブなTCP接続のリストと、そのローカルアドレス、リモートアドレス、および接続の状態が表示されます。

netstatは、アクティブなネットワーク接続に関する情報を表示するだけでなく、特定のプロトコル（TCPなど）のネットワーク統計情報を表示するためにも使用することができます。たとえば、システム上のすべてのTCP接続に関する統計情報を表示するには、次のコマンドを使用します：

```bash
$ netstat -st
```

上記のコマンドを実行すると、システム上のすべてのTCP接続について、アクティブな接続数、各状態にある接続数、発生したエラー数などの統計情報が表示されます。このコマンドは、ネットワークの全体的な健全性を監視し、潜在的なパフォーマンスの問題を特定するのに便利です。


### ファイルの検索

find**コマンドは、CLIでLinuxシステム上のファイルやディレクトリを検索するために使用され、隠れたり見つけにくい特定のファイルやディレクトリを見つけるのに便利です。このコマンドは、ファイル名、サイズ、変更時間、パーミッションなど、さまざまな条件に基づいてファイルとディレクトリを検索します。

findの最も基本的な使い方の1つは、ファイルやディレクトリを名前で検索することです。たとえば、現在のディレクトリとそのサブディレクトリにある「example.txt」という名前のファイルをすべて検索するには、次のコマンドを使用します：

```bash
$ find . -name example.txt
```

上記のコマンドは、カレントディレクトリとそのサブディレクトリにある「example.txt」という名前を持つファイルをすべて検索し、そのフルパスを表示します。

Findは、ファイルやディレクトリをそのサイズに基づいて検索することもできます。例えば、カレントディレクトリとそのサブディレクトリにある1MB以上のファイルをすべて検索するには、次のコマンドを使用します：

```bash
$ find . -size +1M
```

上記のコマンドは、カレントディレクトリとそのサブディレクトリにある1MBを超えるすべてのファイルを検索し、そのフルパスを表示します。

findは、ファイル名とサイズによるファイルやディレクトリの検索に加えて、変更時刻とパーミッションに基づくファイルやディレクトリの検索にも使用できます。たとえば、現在のディレクトリとそのサブディレクトリにある、過去7日以内に変更されたすべてのファイルを検索するには、次のコマンドを使用します：

```bash
$ find . -mtime -7
```

上記のコマンドは、現在のディレクトリとそのサブディレクトリにある、過去7日以内に変更されたすべてのファイルを検索し、そのフルパスを表示します。

全体として、findコマンドは、Linuxシステム上のファイルやディレクトリをさまざまな条件に基づいて検索する強力なツールであり、システム管理やサイバーセキュリティを含むさまざまなタスクに有用です。

______

サイバーセキュリティのためにLinuxのコマンドラインを使用することは、初心者にとっては圧倒されるかもしれません。しかし、このガイドで説明されている基本的なコマンドと高度なコマンドを使用すれば、サイバーセキュリティでLinux CLIを有利に使用することができるようになります。コマンドを実行する際には注意を払い、各コマンドが何をするのかを十分に理解してから使用することを忘れないようにしましょう。

サイバーセキュリティのためのLinuxの使用についてもっと知りたい方は、**をダウンロードしてご確認ください。[Kali Linux](https://www.kali.org/downloads/)オペレーティングシステムで、ペネトレーションテストとデジタルフォレンジックに特化して設計されています。

## 結論

結論として、Linux コマンドライン・インターフェイスは、サイバーセキュリティの専門家にとって強力なツールですが、初心者にとっては困難な場合があります。このガイドで説明した基本的なコマンドと高度なコマンドを学ぶことで、Linux CLI をサイバーセキュリティの分野で有利に使い始めることができます。コマンドを実行する際には常に注意を払い、各コマンドが何をするのかを十分に理解した上で使用することを忘れないでください。練習と経験を積めば、Linuxコマンドラインの使用に熟達し、サイバーセキュリティのスキルを次のレベルに引き上げることができます。