---
title: "新手指南：使用 Linux 命令行确保网络安全"
date: 2023-03-13
toc: true
draft: false
description: "学习如何使用 Linux 命令行的基本和高级命令来保护网络安全。"
tags: ["利纳克斯", "命令行", "网络安全", "初学者指南", "网络扫描", "漏洞测试", "恶意软件分析", "权限", "网络流量", "进程状态", "网络统计", "文件搜索", "Wireshark", "TCPDump", "Nmap", "Linux CLI", "安全", "渗透测试", "数字取证"]
cover: "/img/cover/A_cartoon_illustration_of_a_person_wearing_a_hoodie.png"
coverAlt: "一幅卡通插图，画中人身穿连帽衫，坐在电脑屏幕前，屏幕上显示 Linux 命令行界面，手持放大镜，代表网络安全方面。"
coverCaption: ""
---

**Linux**是一种多功能、安全的操作系统，由于其开源性，在网络安全行业得到广泛应用。不过，对于初学者来说，使用 Linux 命令行界面 (CLI) 执行网络安全任务可能会令人望而生畏。本指南旨在向初学者概述对网络安全有用的基本和高级 Linux CLI 命令。

## 用于网络安全的基本 Linux 命令

### 打印工作目录

**pwd**（打印工作目录）命令用于在 CLI 中显示当前的工作目录。工作目录是当前所在文件系统的目录。该命令有助于在文件系统中导航，并了解自己与其他目录的位置关系。例如，如果您在 home 目录中，并想导航到 documents 目录，可以使用以下命令：

```bash
$ pwd
/home/user
$ cd documents
$ pwd
/home/user/documents
```

在上例中，第一条命令打印当前工作目录，即 home 目录。第二条命令将目录更改为文档目录，第三条命令打印当前工作目录，即现在的文档目录。

### 列表

**ls** 命令用于在 CLI 中列出一个目录的内容。该命令显示当前工作目录中文件和目录的名称。该命令对于确定特定位置的文件和目录非常有用。例如，如果要查看 documents 目录的内容，可以使用以下命令：

```bash
$ ls documents
file1.txt file2.pdf file3.docx
```

在上例中，该命令列出了 documents 目录的内容，其中包含三个文件：file1.txt、file2.pdf 和 file3.docx。你也可以不带任何参数使用该命令来列出当前工作目录的内容。例如

```bash
$ ls
Desktop Documents Downloads Music Pictures Public Templates Videos
```

在上例中，该命令列出了主目录的内容，其中包含多个子目录，如桌面、文档、下载等。

#### 更改目录

**cd**（更改目录）命令用于更改 CLI 中的当前工作目录。使用该命令可以浏览文件系统并访问不同位置的文件。例如，如果要将当前工作目录更改为文档目录，可以使用以下命令：

```bash
$ cd documents
```

在上例中，该命令将当前工作目录更改为位于当前工作目录中的文档目录。也可以使用带有绝对路径或相对路径的命令，将工作目录更改为不在当前工作目录中的目录。例如

```bash
$ cd /usr/local/bin
```

在上例中，该命令将当前工作目录更改为 /usr/local/bin 目录，这是一个绝对路径。或者，也可以使用相对路径来更改工作目录。例如

```bash
$ cd ../..
```


在上例中，该命令将当前工作目录上移两级。符号"... "代表父目录，你可以用它来向上浏览目录树。


#### 连接

**cat**（连接）命令用于在 CLI 中显示文件内容。该命令对于查看日志文件或配置文件等文本文件的内容非常有用。例如，如果要查看名为 "file1.txt "的文件内容，可以使用以下命令：

```bash
$ cat file1.txt
```

在上例中，该命令显示文件 "file1.txt "的内容。您还可以使用该命令在 CLI 中连接多个文件并显示其内容。例如

```bash
$ cat file1.txt file2.txt file3.txt
```


在上例中，该命令显示了三个文件的内容：file1.txt、file2.txt 和 file3.txt。您还可以使用该命令的通配符来连接符合特定模式的所有文件。例如

```bash
$ cat *.txt
```

在上例中，该命令显示当前工作目录中扩展名为".txt "的所有文件的内容。该命令可用于快速查看多个文件的内容，而无需逐个打开。


### 全局正则表达式打印

**grep**（全局正则表达式打印）命令用于在 CLI 中搜索文件或文件集中的特定字符串或模式。该命令对于识别日志文件中的模式或搜索配置文件中的特定信息非常有用。例如，如果要搜索名为 "logfile.txt "的文件中所有出现的 "error "一词，可以使用以下命令：

```bash
$ grep "error" logfile.txt
```

在上例中，该命令搜索文件 "logfile.txt "中所有出现的 "error "一词，并在 CLI 中显示匹配的行。还可以使用正则表达式搜索更复杂的模式。例如，如果要搜索包含以 "p "开头、"y "结尾的单词的所有行，可以使用以下命令：

```bash
$ grep "p.*y" logfile.txt
```

在上例中，命令搜索文件 "logfile.txt "中包含以 "p "开头、"y "结尾的所有行。正则表达式 "p.*y "匹配任何以 "p "开头、"y "结尾的字符串，中间可包含任意数量的字符。该命令用于查找日志文件中的模式，有助于识别安全威胁或性能问题。


#### 更改模式

**chmod** （更改模式）命令用于在 CLI 中更改文件或目录的权限。该命令对于保护文件和目录的安全以及控制谁可以访问这些文件和目录至关重要。权限由三个数字表示，分别对应所有者、组和其他人。这些数字根据以下公式计算：

```
4 = read
2 = write
1 = execute
```

例如，如果要为名为 "file1.txt "的文件赋予所有者读写权限以及组和其他人只读权限，可以使用以下命令：

```bash
$ chmod 644 file1.txt
```

在上例中，命令将文件 "file1.txt "的权限设置为 644。第一个数字（6）代表所有者的权限，即读写权限（4 + 2 = 6）。第二位数字 (4) 代表组的权限，即只读。第三位数字（4）代表其他人的权限，也是只读。

也可以使用带字母的命令来更改权限。例如，如果要赋予文件所有者和组读写权限，而其他人对名为 "file2.txt "的文件没有权限，可以使用以下命令：

```bash
$ chmod ug=rw,o= file2.txt
```

在上例中，命令将文件 "file2.txt "的权限设置为 ug=rw,o=，其中 "ug "代表所有者和组，"r "代表读取权限，"w "代表写入权限。其中，"ug "代表所有者和组，"r "代表读取权限，"w "代表写入权限。"="符号表示 "将权限设置为"，"o="表示 "删除所有他人权限"。该命令可用于控制敏感文件和目录的访问权限，防止未经授权的访问。


## 网络安全的高级 Linux 命令

### 网络映射器

**nmap** 命令是 CLI 中一个功能强大的网络扫描工具，可用于识别网络上的主机和服务以及潜在漏洞。该命令可以执行一系列扫描技术，包括主机发现、端口扫描和操作系统检测。

nmap 最基本的用途之一是扫描单个 IP 地址或主机。例如，要扫描单个 IP 地址 (192.168.1.1) 的开放端口，可以使用以下命令：

```bash
$ nmap 192.168.1.1
```

上述命令将对目标 IP 运行 TCP SYN 扫描，并返回开放端口列表。输出结果将显示打开的端口、每个端口上运行的服务、端口状态（打开/关闭），有时还会显示其他信息，如目标上运行的操作系统。

Nmap 还可用于同时扫描多个主机或 IP 地址。例如，要扫描 IP 地址范围（192.168.1.1-255）内的开放端口，可以使用以下命令：

```bash
$ nmap 192.168.1.1-255
```

上述命令将扫描范围内的所有 IP 地址，并返回每个目标的开放端口和服务。

除了基本的主机发现和端口扫描外，nmap 还能执行更高级的扫描，如服务和版本检测、操作系统检测和漏洞扫描。这些扫描有助于发现网络中潜在的安全漏洞，确保网络免受潜在攻击。

### TCP 数据包挖掘机

**tcpdump** 命令用于在 CLI 中捕获和分析网络流量，有助于排除网络故障、分析网络行为和识别潜在的安全威胁。该命令可实时捕获数据包，并可根据源或目标 IP 地址、协议和端口等各种条件过滤数据包。

tcpdump 最基本的用途之一是捕获特定接口上的所有网络流量。例如，要捕获 eth0 接口上的所有流量，可以使用以下命令：

```bash
$ sudo tcpdump -i eth0
```

上述命令将捕获 eth0 接口上的所有数据包，并在 CLI 中实时显示。输出将显示源和目标 IP 地址、协议以及每个数据包的其他信息。

Tcpdump 还可用于根据各种条件过滤数据包。例如，要捕获发往或发自特定 IP 地址的所有数据包，可以使用以下命令：

```bash
$ sudo tcpdump host 192.168.1.1
```

上述命令将捕获所有发送到或来自 IP 地址 192.168.1.1 的数据包，并在 CLI 中实时显示。您还可以根据协议（如 TCP、UDP）、端口号或其他条件过滤数据包。

除了实时捕获数据包外，tcpdump 还可用于将数据包捕获到文件中，以供日后分析。例如，要捕获 eth0 接口上的所有数据包并将其保存到名为 "capture.pcap "的文件中，可以使用以下命令：

```bash
$ sudo tcpdump -i eth0 -w capture.pcap
```

上述命令将捕获 eth0 接口上的所有数据包，并以 pcap 格式保存到文件 "capture.pcap "中，稍后可使用 Wireshark 等工具进行分析。该命令可用于分析网络行为和识别潜在的安全威胁。

#### 进程状态

**ps** 命令可在 CLI 中显示 Linux 系统上正在运行的进程信息，有助于识别系统上可能正在运行并可能危及系统安全的可疑进程。该命令可以显示运行中进程的各种信息，包括进程 ID (PID)、用户、CPU 和内存使用情况以及命令名称。

ps 的最基本用途之一是显示系统中所有运行进程的列表。例如，要显示系统上运行的所有进程列表，可以使用以下命令：

```bash
$ ps aux
```

上述命令将显示系统上所有正在运行的进程列表，以及它们的 PID、用户、CPU 和内存使用情况以及命令名称。该命令有助于全面了解系统上运行的进程，并识别可能正在运行的任何可疑进程。

Ps 还可用于显示特定进程或进程集的信息。例如，要显示具有特定 PID（如 PID 1234）的进程的信息，可以使用以下命令：

```bash
$ ps -p 1234
```

上述命令将显示 PID 为 1234 的进程信息，包括其用户、CPU 和内存使用情况以及命令名称。您还可以通过指定多个 PID 来显示一组进程的信息。

除了显示运行进程的信息外，ps 还可用于实时监控进程的状态。例如，要实时监控特定进程（如 PID 1234）的 CPU 和内存使用情况，可以使用以下命令：

```bash
$ ps -p 1234 -o %cpu,%mem
```

上述命令将实时显示 PID 为 1234 的进程的 CPU 和内存使用情况，每秒更新一次输出。该命令可用于监控关键进程的性能，并找出潜在的性能瓶颈。

### 网络统计

**netstat** 命令在 CLI 中显示 Linux 系统上活动网络连接的信息，有助于识别未经授权的网络连接和潜在的安全威胁。该命令可以显示活动网络连接的各种信息，包括本地和远程地址、使用的协议（如 TCP、UDP）以及连接状态。

netstat 最基本的用途之一是显示系统中所有活动网络连接的列表。例如，要显示所有活动网络连接的列表，可以使用以下命令：

```bash
$ netstat -a
```


上述命令将显示系统中所有活动网络连接的列表，以及它们的本地和远程地址、使用的协议和连接状态。该命令有助于全面了解系统中的活动网络连接，并识别任何未经授权的连接。

Netstat 还可用于显示特定协议（如 TCP）的网络连接信息。例如，要显示系统上所有活动 TCP 连接的列表，可以使用以下命令：

```bash
$ netstat -at
```

上述命令将显示系统中所有活动 TCP 连接的列表、本地和远程地址以及连接状态。

除了显示活动网络连接的信息外，netstat 还可用于显示特定协议（如 TCP）的网络统计信息。例如，要显示系统上所有 TCP 连接的统计数据，可以使用以下命令：

```bash
$ netstat -st
```

上述命令将显示系统上所有 TCP 连接的统计信息，包括活动连接的数量、各状态下连接的数量以及已发生错误的数量。该命令可用于监控网络的总体健康状况并找出潜在的性能问题。


### 查找文件

在 CLI 中，**find** 命令用于搜索 Linux 系统中的文件和目录，这对查找可能隐藏或难以找到的特定文件和目录非常有用。该命令可根据多种标准搜索文件和目录，包括文件名、大小、修改时间和权限。

查找的最基本用途之一是按名称搜索文件和目录。例如，要搜索当前目录及其子目录中名称为 "example.txt "的所有文件，可以使用以下命令：

```bash
$ find . -name example.txt
```

上述命令将搜索当前目录及其子目录中名称为 "example.txt "的所有文件，并显示其完整路径。

查找还可以根据文件和目录的大小进行搜索。例如，要搜索当前目录及其子目录中大于 1 MB 的所有文件，可以使用以下命令：

```bash
$ find . -size +1M
```

上述命令将搜索当前目录及其子目录中大于 1 MB 的所有文件，并显示其完整路径。

除了按名称和大小搜索文件和目录外，find 还可用于按修改时间和权限搜索文件和目录。例如，要搜索当前目录及其子目录中在过去 7 天内修改过的所有文件，可以使用以下命令：

```bash
$ find . -mtime -7
```

上述命令将搜索当前目录及其子目录中在过去 7 天内修改过的所有文件，并显示其完整路径。

总之，find 命令是一个功能强大的工具，可根据各种条件搜索 Linux 系统中的文件和目录，因此可用于各种任务，包括系统管理和网络安全。

______

对于初学者来说，使用 Linux 命令行进行网络安全操作可能会令人不知所措。不过，有了本指南中概述的基本和高级命令，你就可以开始使用 Linux CLI，使其在网络安全方面发挥优势。切记在运行命令时要小心谨慎，并在使用前彻底了解每个命令的作用。

要了解有关使用 Linux 进行网络安全的更多信息，请点击下载 ** 。[Kali Linux](https://www.kali.org/downloads/)操作系统，专门用于渗透测试和数字取证。

## 结论

总之，Linux 命令行界面对于网络安全专业人员来说是一个强大的工具，但对于初学者来说可能会望而生畏。通过学习本指南中概述的基本命令和高级命令，你就可以开始使用 Linux CLI，从而在网络安全领域发挥自己的优势。请记住，在运行命令时一定要小心谨慎，并在使用前彻底了解每条命令的作用。通过练习和积累经验，你可以熟练使用 Linux 命令行，并将自己的网络安全技能提升到一个新的水平。