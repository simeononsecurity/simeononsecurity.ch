---
title: "Risolvi la vulnerabilità del server DNS di Windows con KB4569509 - Critical RCE Fix"
date: 2020-07-25
---

[KB4569509: Guidance for DNS Server Vulnerability CVE-2020-1350](https://support.microsoft.com/en-us/help/4569509/windows-dns-server-remote-code-execution-vulnerability)

## Introduzione

Il 14 luglio 2020, Microsoft ha rilasciato un aggiornamento della sicurezza per il problema descritto in CVE-2020-1350 | Vulnerabilità legata all'esecuzione di codice in modalità remota del server DNS di Windows. Questo advisory descrive una vulnerabilità Critical Remote Code Execution (RCE) che interessa i server Windows configurati per eseguire il ruolo Server DNS. Consigliamo vivamente agli amministratori del server di applicare l'aggiornamento della sicurezza il prima possibile.

È possibile utilizzare una soluzione alternativa basata sul registro per proteggere un server Windows interessato e può essere implementata senza richiedere a un amministratore di riavviare il server. A causa della volatilità di questa vulnerabilità, gli amministratori potrebbero dover implementare la soluzione alternativa prima di applicare l'aggiornamento della sicurezza per consentire loro di aggiornare i propri sistemi utilizzando una cadenza di distribuzione standard.


## Soluzione alternativa

**Facoltativo:** scarica lo script della soluzione alternativa dal file[GitHub Repository](https://github.com/simeononsecurity/CVE-2020-1350-Fix)


Per ovviare a questa vulnerabilità, apportare la seguente modifica al Registro di sistema per limitare la dimensione del pacchetto di risposta DNS basato su TCP più grande consentito:

Sottochiave: HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\DNS\Parameters

Valore: TcpReceivePacketSize

Digitare: DWORD

Dati valore: 0xFF00

**Appunti:**

    I dati valore predefiniti (anche massimi) = 0xFFFF.

    I dati valore consigliati = 0xFF00 (255 byte in meno rispetto al massimo).

    È necessario riavviare il servizio DNS affinché la modifica del registro abbia effetto. Per fare ciò, eseguire il comando seguente in un prompt dei comandi con privilegi elevati:

```net stop dns && net start dns```


## Informazioni importanti su questa soluzione alternativa
I pacchetti di risposta DNS basati su TCP che superano il valore consigliato verranno eliminati senza errori. Pertanto, è possibile che alcune domande non ricevano risposta. Ciò potrebbe causare un errore imprevisto. Un server DNS sarà influenzato negativamente da questa soluzione alternativa solo se riceve risposte TCP valide superiori a quelle consentite nella mitigazione precedente (più di 65.280 byte).

È improbabile che il valore ridotto influisca sulle distribuzioni standard o sulle query ricorsive. Tuttavia, in un dato ambiente può esistere un caso d'uso non standard. Per determinare se questa soluzione alternativa influirà negativamente sull'implementazione del server, è necessario abilitare la registrazione diagnostica e acquisire un set di campioni rappresentativo del flusso aziendale tipico. Quindi, sarà necessario esaminare i file di registro per identificare la presenza di pacchetti di risposta TCP di dimensioni anomale

Per ulteriori informazioni, vedere[DNS Logging and Diagnostics](https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/dn800669%28v=ws.11%29)