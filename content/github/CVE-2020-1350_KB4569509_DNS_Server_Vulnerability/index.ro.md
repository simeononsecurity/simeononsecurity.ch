---
title: "Rezolvați vulnerabilitatea serverului DNS Windows cu KB4569509 - Remediere RCE critică"
date: 2020-07-25
---

[KB4569509: Guidance for DNS Server Vulnerability CVE-2020-1350](https://support.microsoft.com/en-us/help/4569509/windows-dns-server-remote-code-execution-vulnerability)

## Introducere

Pe 14 iulie 2020, Microsoft a lansat o actualizare de securitate pentru problema descrisă în CVE-2020-1350 | Vulnerabilitatea la execuția codului la distanță a serverului DNS Windows. Acest aviz descrie o vulnerabilitate Critical Remote Code Execution (RCE) care afectează serverele Windows care sunt configurate să ruleze rolul Server DNS. Recomandăm insistent administratorilor de server să aplice actualizarea de securitate cât mai curând posibil.

O soluție bazată pe registry poate fi utilizată pentru a ajuta la protejarea unui server Windows afectat și poate fi implementată fără a fi necesar ca un administrator să repornească serverul. Din cauza volatilității acestei vulnerabilități, este posibil ca administratorii să fie nevoiți să implementeze soluția înainte de a aplica actualizarea de securitate pentru a le permite să își actualizeze sistemele utilizând o cadență standard de implementare.


## Soluție

**Opțional:** Descărcați scriptul de soluție de la[GitHub Repository](https://github.com/simeononsecurity/CVE-2020-1350-Fix)


Pentru a evita această vulnerabilitate, faceți următoarea modificare a registrului pentru a restricționa dimensiunea celui mai mare pachet de răspuns DNS bazat pe TCP de intrare care este permis:

Subcheie: HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\DNS\Parameters

Valoare: TcpReceivePacketSize

Tip: DWORD

Date despre valoare: 0xFF00

**Note:**

    Datele valorii implicite (de asemenea, maxime) = 0xFFFF.

    Datele Valoare recomandate = 0xFF00 (255 octeți mai puțin decât maxim).

    Trebuie să reporniți serviciul DNS pentru ca modificarea registrului să aibă efect. Pentru a face acest lucru, rulați următoarea comandă la un prompt de comandă ridicat:

```net stop dns && net start dns```


## Informații importante despre această soluție
Pachetele de răspuns DNS bazate pe TCP care depășesc valoarea recomandată vor fi eliminate fără eroare. Prin urmare, este posibil ca unele întrebări să nu primească răspuns. Acest lucru ar putea cauza un eșec neprevăzut. Un server DNS va fi afectat negativ de această soluție numai dacă primește răspunsuri TCP valide care sunt mai mari decât cele permise în atenuarea anterioară (mai mult de 65.280 de octeți).

Este puțin probabil ca valoarea redusă să afecteze implementările standard sau interogările recursive. Cu toate acestea, un caz de utilizare non-standard poate exista într-un mediu dat. Pentru a determina dacă implementarea serverului va fi afectată negativ de această soluție, ar trebui să activați înregistrarea de diagnosticare și să capturați un set de mostre care este reprezentativ pentru fluxul dvs. tipic de afaceri. Apoi, va trebui să revizuiți fișierele jurnal pentru a identifica prezența pachetelor de răspuns TCP anormal de mari

Pentru mai multe informații, consultați[DNS Logging and Diagnostics](https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/dn800669%28v=ws.11%29)